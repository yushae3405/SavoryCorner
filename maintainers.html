<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maintainers</title>
    <link rel="stylesheet" href="update.css">
    <link rel="stylesheet" media="screen and (max-width:1300px)" href="phone3.css">

</head>
<body>
    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CLS</title>
    
   
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Bhai+2:wght@500&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/fontawesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    
    <link rel="stylesheet" href="style1.css">
<link rel="stylesheet" href="update.css">

    
</head>
<body>
    <div class="full-page">
        <div class="navbar">
            <div style="display:flex;" >
                <div style="margin-right: 10px;" >
                    <button class="btn btn-success" data-target="#mymodel" data-toggle ="modal">SignUp</button>
                    <div class = "modal fade" id = "mymodel">
                        <div class = "modal-dialog modal-dialog-centered">
                            <div class = "modal-content">
                                <div class = "modal-header">
                                    <h3 class = " text-primary">SignUp</h3>
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
        
        
        
        
        
                                </div>
                                <div class ="modal-body">
                                    <form>
                                        <div class = "form-group">
                                            <label><img src="person-fill.svg" alt=""    > Username:</label>
                                            <input id ="username" type="text"data-toggle="tooltip"data-placement="left" title="Enter Full Name" name="" class ="form-control">
        
        
                                        </div>
                                        <div class = "form-group">
                                            <label><img src="envelope-fill.svg"  alt=""   >    Email:</label>
                                            <input id ="email" data-toggle="tooltip"data-placement="left" title="Enter email" type="text " name="" class ="form-control">
        
        
                                        </div>
                                        <div class = "form-group">
                                            <label><img src="lock-fill.svg"  alt="">    Password:</label>
                                            <input id = "password" data-toggle="tooltip"data-placement="left" title="Enter password" type="password" name="" class ="form-control password">
                                            <i class = 'bx bx-hide eye-icon'></i>
        
        
                                        </div>
                                       
                                       
                                        <button id ="googleBtn2" data-toggle="tooltip"data-placement="left" title="Google Sign In" style="border-radius:5px;padding: 3px ; padding-right:8px ;  background-color: white;" class = "social-signin google"><img style="height:25px;" src="google.png"> Continue With Google</button>
                                    </form>
        
                               </div>
                               <div class ="modal-footer justify-content-center" >
                                <button id = "SignUp" class = "btn btn-success  " data-dismiss="modal" >SignUp</button>
        
                               </div>
                               <!-- <div class ="form-link">
                                <span>Don't have an account?</span><a href="#"class ="link "

                               </div> -->
        
                             </div>
        
        
                        </div>
        
        
        
                    </div>
        
        
        
                </div>
        
                <div >
                    <button class="btn btn-success" data-target="#mymodell" data-toggle ="modal">Login</button>
                    <div class = "modal fade" id = "mymodell">
                        <div class = "modal-dialog modal-dialog-centered">
                            <div class = "modal-content">
                                <div class = "modal-header">
                                    <h3 class = " text-primary">Login</h3>
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
        
        
        
        
        
                                </div>
                                <div class ="modal-body">
                                    <form>
                                        <div class = "form-group">
                                            <label><img src="envelope-fill.svg"  alt="">      Email:</label>
                                            <input id ="email1" type="text"data-toggle="tooltip"data-placement="left" title="Enter email" name="" class ="form-control">
        
        
                                        </div>
                                       
                                        <div class = "form-group">
                                            <label><img src="lock-fill.svg"  alt="">      Password:</label>
                                            <input id = "password1" type="text"data-toggle="tooltip"data-placement="left" title="Enter password" name="" class ="form-control password">
                                            <i class = 'bx bx-hide eye-icon'></i>
        
        
                                        </div>
                                        <div class = "form-group">
                                            <label>        Forgot Password:</label>
                                            <input id = "resetEmail"  type="text"data-toggle="tooltip" data-placement="left" title="Enter email" name="" class ="form-control password">
                                            <button id = "reset" type = "button"  style="border-radius:5px;padding: 3px ; padding-right:8px ;  background-color: white;">Reset Now</button>
                                            <!-- <i class = 'bx bx-hide eye-icon'></i> -->
        
        
                                        </div>

                                        
                                        <button id ="googleBtn1"data-toggle="tooltip"data-placement="left" title="Google Sign In" style="border-radius:5px;padding: 3px ; padding-right:8px ;  background-color: white;" class = "social-signin google"><img style="height:25px;" src="google.png"> Continue With Google</button>
                                    </form>
        
                               </div>
                               <div class ="modal-footer justify-content-center" >
                                <button id = "login" class = "btn btn-success  " data-dismiss="modal" >Login</button>
        
                               </div>
        
                             </div>
        
        
                        </div>
        
        
        
                    </div>
        
        
        
                </div>
            </div>
    
            
        
        
        <nav>
            <ul id='MenuItems'>
                <li><a href='#update'>Update</a></li>
                <li><a href='#canten'>Add Canteens</a></li>
                <li><a href=''>Availability</a></li>            
            </ul>            
        </nav>
            <div>
                <img  data-toggle="tooltip"data-placement="left" title="Savory Corner"id ="logo" src="logo.jpg" alt="error">
            </div>
            
        </div>
        <section style="margin-top: 100px; margin-right: 180px;" id ="update">
            <div  class = form-box>
                <div class = "form-value">
                    <form class ="update"action="">
                        <h2>Update Status</h2>
                        <div class="inputbox">
                            <input type = "text"data-toggle="tooltip"data-placement="left" title="Enter canteen name" name ="id" autocomplete="off"required>
                            <label for = "">Canteen Name</label>
                        </div>
                       

                        
                        
                        <div class="inputbox">
                            <input type = "text" id ="ids" name ="ids" data-toggle="tooltip"data-placement="left" title="OPEN or CLOSE" autocomplete="off" required>
                            <label for = "">Status Of Canteen</label>
                            
                        </div>
                        
                        <button id = "buton" data-toggle="tooltip"data-placement="left" title="Change Status">Change Status</button>



                    </form>
                </div>
            </div>
         </section>

         <section id="canten">
            <h1 class="h-primary center">Add Canteen</h1>
            <div id="contact-box">
                <form id = "addcanteen" action="">
                    <div class="form-group">
                        <label style="color:black" for="text">Name of canteen:    </label>
                        <input type="text" name="name"data-toggle="tooltip"data-placement="left" title="Enter name of canteen" id="name" placeholder="Enter canteen name">
                    </div>
                    <div class="form-group">
                        <label style="color:black" for="text">Canteen URL:    </label>  
                        <input type="text" name="name" id="url" data-toggle="tooltip"data-placement="left" title="Enter URL of Image " placeholder="Enter canteen url">
                    </div>
                    
                    <div class="form-group">
                        <label style="color:black" for="text">Description:     </label>
                        <textarea name="description" data-toggle="tooltip"data-placement="left" title="Describe canteen" id="description" cols="30" rows="10"></textarea>
                    </div>
                    <button style =" border-width: 3px;font-weight: bolder; " data-toggle="tooltip"data-placement="left" title="Add Canteen"class="btn btn-outline-primary  ">Add Canteen</button>
                   
                </form>
               
            </div>
        </section>
        


                

        

   
    
</body>


<script type="module">
    
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-analytics.js";
    import{signInWithPhoneNumber,getAuth,signInWithPopup,RecaptchaVerifier, createUserWithEmailAndPassword,signInWithEmailAndPassword,onAuthStateChanged,signOut,GoogleAuthProvider,sendPasswordResetEmail} from "https://www.gstatic.com/firebasejs/9.18.0/firebase-auth.js";
    
    const firebaseConfig = {
      apiKey: "AIzaSyAAMsdDWoayAAGXFZLmAm-glD49tnH-zls",
      authDomain: "signinandup2.firebaseapp.com",
      projectId: "signinandup2",
      storageBucket: "signinandup2.appspot.com",
      messagingSenderId: "959401494595",
      appId: "1:959401494595:web:180e55c084d7eb17ceecf6",
      measurementId: "G-P6V3X6PF3T"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider(app);
     SignUp.addEventListener('click',(e)=>{
            var email = document.getElementById('email').value;
            var password = document.getElementById('password').value;
            var username = document.getElementById('username').value;
            onAuthStateChanged(auth,(user)=>{
    if (user){
        location.replace("update.html");
       // console.log('no user logged in');
       const uid = user.uid;
    }
    else{
        
    }

})

            createUserWithEmailAndPassword(auth, email, password)
     .then((userCredential) => {
       // Signed in 
    const user = userCredential.user;
    
    alert('user created!');
    // ...
      })
      .catch((error) => {
        const errorCode = error.code;
         const errorMessage = error.message;
         alert(errorMessage);
       // ..
       });


        });

    login.addEventListener('click',(e)=>{
        var email = document.getElementById('email1').value;
            var password = document.getElementById('password1').value;



 signInWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
    // Signed in 
    const user = userCredential.user;
 
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    alert(errorMessage);
  });

    })
    const user = auth.currentUser;
 
    onAuthStateChanged(auth,(user)=>{
    if (user){
        location.replace("update.html");
       // console.log('no user logged in');
       const uid = user.uid;
    }
    else{
        
    }

})


// Google Signin
googleBtn1.addEventListener('click',(e)=>{
    signInWithPopup(auth, provider)
  .then((result) => {
    // This gives you a Google Access Token. You can use it to access the Google API.
    const credential = GoogleAuthProvider.credentialFromResult(result);
    const token = credential.accessToken;
    // The signed-in user info.
    const user = result.user;
    alert('user.displayName');
    // IdP data available using getAdditionalUserInfo(result)
    // ...
  }).catch((error) => {
    // Handle Errors here.
    const errorCode = error.code;
    const errorMessage = error.message;
    // The email of the user's account used.
    const email = error.customData.email;
    // The AuthCredential type that was used.
    const credential = GoogleAuthProvider.credentialFromError(error);
    // ...
    alert(errorMessage);
  });



});
googleBtn2.addEventListener('click',(e)=>{
    signInWithPopup(auth, provider)
  .then((result) => {
    // This gives you a Google Access Token. You can use it to access the Google API.
    const credential = GoogleAuthProvider.credentialFromResult(result);
    const token = credential.accessToken;
    // The signed-in user info.
    const user = result.user;
    alert('user.displayName');
    // IdP data available using getAdditionalUserInfo(result)
    // ...
  }).catch((error) => {
    // Handle Errors here.
    const errorCode = error.code;
    const errorMessage = error.message;
    // The email of the user's account used.
    const email = error.customData.email;
    // The AuthCredential type that was used.
    const credential = GoogleAuthProvider.credentialFromError(error);
    // ...
    alert(errorMessage);
  });



});
let reset = document.querySelector("#reset");
reset.addEventListener("click",function(){
  let email = document.querySelector("#resetEmail")
  const auth = getAuth();
  sendPasswordResetEmail(auth, email.value)
  .then(() => {
      alert("email sent!")


    
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;

  });
})

$('body').tooltip({
        selector: '[data-toggle="tooltip"], [title]:not([data-toggle="popover"])',
        trigger: 'hover',
        container: 'body'
    }).on('click mousedown mouseup', '[data-toggle="tooltip"], [title]:not([data-toggle="popover"])', function () {
        $('[data-toggle="tooltip"], [title]:not([data-toggle="popover"])').tooltip('destroy');
    }); 

pwShowHide =document.querySelectorAll(".eye-icon");
pwShowHide.forEach(eyeIcon=>{
    eyeIcon.addEventListener("click",()=>{
        let pwFields = eyeIcon.parentElement.parentElement.querySelectorAll(".password");

        pwFields.forEach(password =>{
            if (password.type = password){
                password.type = text;
                eyeIcon.classList.replace("bx-hide","bx-show");
                return;
            }
            password.type = "password";
            eyeIcon.classList.replace("bx-show","bx-hide");

        })
    })
})








  </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
    crossorigin="anonymous">




</script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
</html>